/*!
 * DprObserver
 * @version 0.0.1
 * @author plainheart
 */
!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(e="undefined"!=typeof globalThis?globalThis:e||self).DprObserver=i()}(this,(function(){"use strict";function e(){var e=1;return"undefined"!=typeof window&&(e=window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI||1),e}var i="undefined"!=typeof window&&"function"==typeof window.matchMedia;return function(){function t(e){if(!i)throw new Error("DprObserver cannot run without `matchMedia` supported!");if("function"!=typeof e)throw new Error("the required param `onchange` must be a function!");this._onchange=e,this._init()}var n=t.prototype;return n._init=function(){var i=this,t="(resolution: "+e()+"dppx)";this._mediaMatcher=window.matchMedia(t),this._mediaMatcher.addListener(this._updateListener=function(){i._onchange(e()),i._disposeMediaMatcher(),i._init()})},n._disposeMediaMatcher=function(){this._mediaMatcher&&(this._mediaMatcher.removeListener(this._updateListener),this._mediaMatcher=null),this._updateListener=null},n.dispose=function(){this._disposeMediaMatcher(),this._onchange=null},n.getDpr=function(){return e()},t}()}));
